From 9b51a7da989529c0692bb42f4d77ddd5fe7c0b57 Mon Sep 17 00:00:00 2001
From: Omer Akram <om26er@gmail.com>
Date: Fri, 18 Dec 2020 00:22:18 +0500
Subject: [PATCH] Allow more CUDA libraries

---
 cmd/snap-confine/mount-support-nvidia.c | 3 +++
 interfaces/builtin/opengl.go            | 3 +++
 2 files changed, 6 insertions(+)

diff --git a/interfaces/builtin/opengl.go b/interfaces/builtin/opengl.go
index 8ffa00d3bc..6f8faf0125 100644
--- a/interfaces/builtin/opengl.go
+++ b/interfaces/builtin/opengl.go
@@ -45,6 +45,9 @@ const openglConnectedPlugAppArmor = `
 /var/lib/snapd/hostfs/{,usr/}lib{,32,64,x32}/{,@{multiarch}/}libGLdispatch.so{,.*} rm,
 /var/lib/snapd/hostfs/{,usr/}lib{,32,64,x32}/{,@{multiarch}/}vdpau/libvdpau_nvidia.so{,.*} rm,
 /var/lib/snapd/hostfs/{,usr/}lib{,32,64,x32}/{,@{multiarch}/}libnv{rm,dc,imp,os}*.so{,.*} rm,
+/var/lib/snapd/hostfs/{,usr/}lib{,32,64,x32}/{,@{multiarch}/}libnpp{c,ig,ial,icc,idei,ist,if,im,itc}*.so{,.*} rm,
+/var/lib/snapd/hostfs/{,usr/}lib{,32,64,x32}/{,@{multiarch}/}libcublas{,Lt}*.so{,.*} rm,
+/var/lib/snapd/hostfs/{,usr/}lib{,32,64,x32}/{,@{multiarch}/}libcufft.so{,.*} rm,

 # Support reading the Vulkan ICD files
 /var/lib/snapd/lib/vulkan/ r,
--
2.25.1

